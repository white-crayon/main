{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["/*!\n * Author: Theme designed and developed by Michael Palmer, MP Web.\n * Website: https://www.michaelpalmerwebdesign.com.\n * Copyright MP Web 2018.\n * Template website: https://www.brutalist.design.\n */\n(function () {\n\n  //dom loaded\n  $(function () {\n\n    //Cache jQuery objects for reuse\n    var ui_elem = {\n      'carousel': $('#gallery-carousel'),\n      'video': $('#video .owl-carousel'),\n      'video_play': $('#video-wrap').children('p'),\n      'mobile_nav_btn': $('#mobile-nav'),\n      'mobile_nav': $('div.navigation'),\n      'template_title': $('h1 a'),\n    };\n\n    //run preloader\n    run_preloader();\n\n    //gallery carousel\n    if (ui_elem.carousel.length) {\n      ui_elem.carousel.owlCarousel({\n        items: 1,\n        nav:true,\n        dots:false,\n        loop: true\n      });\n    }\n\n\n    //Video carousel\n    if (ui_elem.video.length) {\n    ui_elem.video.owlCarousel({\n        items: 1,\n        nav: true,\n        dots: false,\n        video:true,\n        lazyLoad:false,\n        autoHeight: true\n      });\n    }//Video carousel\n\n    //YT video play - hide placeholder img\n    ui_elem.video_play.on('click', function(){\n      $(this).hide().next('img').hide();\n      $(\".active .owl-video-play-icon\").trigger(\"click\");\n    });//end video play on click\n\n    //nav style 2 mobile menu\n    ui_elem.mobile_nav_btn.on('click', function(){\n      ui_elem.mobile_nav.toggle();\n    });\n\n    //Nav click for template style 2. Jump to section with offset for fixed menu\n    $(document).on('click', 'nav.nav-fs li.anchor > a[href^=\"#\"]', function (event) {\n      event.preventDefault();\n      $('html, body').scrollTop($($.attr(this, 'href')).offset().top - $('nav').outerHeight());\n    });//end template style 2 nav click\n\n    //Adjust title letter spacing to fille parent container\n    ui_elem.template_title.stretch_text();\n  });//end dom loaded\n\n\n  /**\n   * Run the preloader:\n   *\n   * 1: Output the loading text, each letter of the loading text is output in 500ms increments\n   * 2: Once the loading text is completed check if the youtube video has loaded\n   * 3: When the youtube video is loaded remove the preloader\n   */\n  var interval = null, inc = 500;\n  function run_preloader () {\n    var p = $('p.loading-text'),\n        preloader = $('.preloader');\n\n    interval = setInterval(function(){\n      var len = p.children('span').length, i = 0;\n      for (i; i < len; i++) {\n        if (!$(p.children('span')[i]).hasClass('load-letter')) {\n          $(p.children('span')[i]).addClass('load-letter');\n          return false;\n        }\n      }\n\n      if ($('.load-letter').length === p.children('span').length) {\n\n        setTimeout(function () {\n          p.next('p').addClass('is-loaded');\n        }, (inc));\n\n        setTimeout(function () {\n          clearInterval(interval);\n          interval = null;\n          $('body').removeClass('of-hidden');\n          preloader.fadeOut('slow', function(){\n            $(this).remove();\n          });\n        }, (inc*4));\n      }\n    }, inc);\n  }//end fn run_preloader\n\n\n  //Stretch title text to fit parent\n  $.fn.stretch_text = function () {\n    var elmt = $(this),\n      cont_width = elmt.width(),\n      txt = elmt.html();\n\n    if (elmt.find('.stretch_it').length > 0) {\n      txt = elmt.find('.stretch_it').html();\n      elmt.html(txt);\n    }\n\n    var one_line = $('<span class=\"stretch_it\">' + txt + '</span>'),\n      nb_char = elmt.text().length,\n      spacing = cont_width / nb_char,\n      txt_width;\n\n    elmt.html(one_line);\n    txt_width = one_line.width();\n\n    var char_width = txt_width / nb_char,\n        ltr_spacing = spacing - char_width + (spacing - char_width) / nb_char;\n\n    if (ltr_spacing < 0) {\n      ltr_spacing = 0;\n    }\n\n    one_line.css({'letter-spacing': ltr_spacing});\n  };\n\n\n})($);"]}